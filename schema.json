{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "title": "DipDupConfig",
  "properties": {
    "spec_version": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "number"
        }
      ]
    },
    "package": {
      "type": "string"
    },
    "datasources": {
      "type": "object",
      "additionalProperties": {
        "anyOf": [
          {
            "allOf": [
              {
                "$ref": "#/$defs/CoinbaseDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/AbiEtherscanDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/HttpDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/IpfsDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmNodeDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TzipMetadataDatasourceConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktDatasourceConfig"
              }
            ]
          }
        ]
      }
    },
    "database": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/$defs/SqliteDatabaseConfig"
            }
          ]
        },
        {
          "allOf": [
            {
              "$ref": "#/$defs/PostgresDatabaseConfig"
            }
          ]
        }
      ]
    },
    "contracts": {
      "type": "object",
      "additionalProperties": {
        "anyOf": [
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmContractConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosContractConfig"
              }
            ]
          }
        ]
      }
    },
    "indexes": {
      "type": "object",
      "additionalProperties": {
        "anyOf": [
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktBigMapsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktEventsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktHeadIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationsUnfilteredIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktTokenTransfersIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktTokenBalancesIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidEventsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidTracesIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidTransactionsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/IndexTemplateConfig"
              }
            ]
          }
        ]
      }
    },
    "templates": {
      "type": "object",
      "additionalProperties": {
        "anyOf": [
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktBigMapsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktEventsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktHeadIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationsUnfilteredIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktTokenTransfersIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktTokenBalancesIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidEventsIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidTracesIndexConfig"
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidTransactionsIndexConfig"
              }
            ]
          }
        ]
      }
    },
    "jobs": {
      "type": "object",
      "additionalProperties": {
        "allOf": [
          {
            "$ref": "#/$defs/JobConfig"
          }
        ]
      }
    },
    "hooks": {
      "type": "object",
      "additionalProperties": {
        "allOf": [
          {
            "$ref": "#/$defs/HookConfig"
          }
        ]
      }
    },
    "hasura": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/$defs/HasuraConfig"
            }
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "sentry": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/$defs/SentryConfig"
            }
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "prometheus": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/$defs/PrometheusConfig"
            }
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "api": {
      "anyOf": [
        {
          "allOf": [
            {
              "$ref": "#/$defs/ApiConfig"
            }
          ]
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "advanced": {
      "allOf": [
        {
          "$ref": "#/$defs/AdvancedConfig"
        }
      ]
    },
    "custom": {
      "type": "object",
      "additionalProperties": {}
    },
    "logging": {
      "anyOf": [
        {
          "type": "object",
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ]
          }
        },
        {
          "type": "string"
        },
        {
          "type": "integer"
        }
      ],
      "default": "INFO"
    }
  },
  "required": [],
  "$defs": {
    "HttpConfig": {
      "type": "object",
      "title": "HttpConfig",
      "properties": {
        "retry_count": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "retry_sleep": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "retry_multiplier": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "ratelimit_rate": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "ratelimit_period": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "ratelimit_sleep": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "connection_limit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "connection_timeout": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "request_timeout": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "batch_size": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "polling_interval": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "replay_path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "alias": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      }
    },
    "CoinbaseDatasourceConfig": {
      "type": "object",
      "title": "CoinbaseDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "coinbase"
          ]
        },
        "api_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "secret_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "passphrase": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind"
      ]
    },
    "AbiEtherscanDatasourceConfig": {
      "type": "object",
      "title": "AbiEtherscanDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "abi.etherscan"
          ]
        },
        "url": {
          "type": "string",
          "default": "https://api.etherscan.io/api"
        },
        "api_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind"
      ]
    },
    "HttpDatasourceConfig": {
      "type": "object",
      "title": "HttpDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "http"
          ]
        },
        "url": {
          "type": "string"
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind",
        "url"
      ]
    },
    "IpfsDatasourceConfig": {
      "type": "object",
      "title": "IpfsDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "ipfs"
          ]
        },
        "url": {
          "type": "string",
          "default": "https://ipfs.io/ipfs"
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind"
      ]
    },
    "EvmNodeDatasourceConfig": {
      "type": "object",
      "title": "EvmNodeDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "evm.node"
          ]
        },
        "url": {
          "type": "string"
        },
        "ws_url": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "rollback_depth": {
          "type": "integer",
          "default": 32
        }
      },
      "required": [
        "kind",
        "url"
      ]
    },
    "EvmSubsquidDatasourceConfig": {
      "type": "object",
      "title": "EvmSubsquidDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "evm.subsquid"
          ]
        },
        "url": {
          "type": "string"
        },
        "node": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmNodeDatasourceConfig"
                }
              ]
            },
            {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/$defs/EvmNodeDatasourceConfig"
                  }
                ]
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind",
        "url"
      ]
    },
    "TzipMetadataNetwork": {
      "title": "TzipMetadataNetwork",
      "enum": [
        "mainnet",
        "ghostnet",
        "mumbainet",
        "nairobinet",
        "oxfordnet"
      ]
    },
    "TzipMetadataDatasourceConfig": {
      "type": "object",
      "title": "TzipMetadataDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "tzip_metadata"
          ]
        },
        "network": {
          "allOf": [
            {
              "$ref": "#/$defs/TzipMetadataNetwork"
            }
          ]
        },
        "url": {
          "type": "string",
          "default": "https://metadata.dipdup.net"
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind",
        "network"
      ]
    },
    "TezosTzktDatasourceConfig": {
      "type": "object",
      "title": "TezosTzktDatasourceConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt"
          ]
        },
        "url": {
          "type": "string",
          "default": "https://api.tzkt.io"
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "buffer_size": {
          "type": "integer",
          "default": 0
        },
        "merge_subscriptions": {
          "type": "boolean",
          "default": false
        },
        "rollback_depth": {
          "type": "integer",
          "default": 2
        }
      },
      "required": [
        "kind"
      ]
    },
    "SqliteDatabaseConfig": {
      "type": "object",
      "title": "SqliteDatabaseConfig",
      "properties": {
        "kind": {
          "enum": [
            "sqlite"
          ]
        },
        "path": {
          "type": "string",
          "default": ":memory:"
        },
        "immune_tables": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        }
      },
      "required": [
        "kind"
      ]
    },
    "PostgresDatabaseConfig": {
      "type": "object",
      "title": "PostgresDatabaseConfig",
      "properties": {
        "kind": {
          "enum": [
            "postgres"
          ]
        },
        "host": {
          "type": "string"
        },
        "user": {
          "type": "string",
          "default": "postgres"
        },
        "database": {
          "type": "string",
          "default": "postgres"
        },
        "port": {
          "type": "integer",
          "default": 5432
        },
        "schema_name": {
          "type": "string",
          "default": "public"
        },
        "password": {
          "type": "string",
          "default": ""
        },
        "immune_tables": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "connection_timeout": {
          "type": "integer",
          "default": 60
        }
      },
      "required": [
        "kind",
        "host"
      ]
    },
    "EvmContractConfig": {
      "type": "object",
      "title": "EvmContractConfig",
      "properties": {
        "kind": {
          "enum": [
            "evm"
          ]
        },
        "address": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "abi": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "typename": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind"
      ]
    },
    "TezosContractConfig": {
      "type": "object",
      "title": "TezosContractConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos"
          ]
        },
        "address": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "code_hash": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "typename": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "kind"
      ]
    },
    "TezosTzktBigMapsHandlerConfig": {
      "type": "object",
      "title": "TezosTzktBigMapsHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            }
          ]
        },
        "path": {
          "type": "string"
        }
      },
      "required": [
        "callback",
        "contract",
        "path"
      ]
    },
    "SkipHistory": {
      "title": "SkipHistory",
      "enum": [
        "never",
        "once",
        "always"
      ]
    },
    "TezosTzktBigMapsIndexConfig": {
      "type": "object",
      "title": "TezosTzktBigMapsIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.big_maps"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktBigMapsHandlerConfig"
              }
            ]
          }
        },
        "skip_history": {
          "allOf": [
            {
              "$ref": "#/$defs/SkipHistory"
            }
          ],
          "default": "never"
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "handlers"
      ]
    },
    "TezosTzktEventsHandlerConfig": {
      "type": "object",
      "title": "TezosTzktEventsHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            }
          ]
        },
        "tag": {
          "type": "string"
        }
      },
      "required": [
        "callback",
        "contract",
        "tag"
      ]
    },
    "TezosTzktEventsUnknownEventHandlerConfig": {
      "type": "object",
      "title": "TezosTzktEventsUnknownEventHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            }
          ]
        }
      },
      "required": [
        "callback",
        "contract"
      ]
    },
    "TezosTzktEventsIndexConfig": {
      "type": "object",
      "title": "TezosTzktEventsIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.events"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "allOf": [
                  {
                    "$ref": "#/$defs/TezosTzktEventsHandlerConfig"
                  }
                ]
              },
              {
                "allOf": [
                  {
                    "$ref": "#/$defs/TezosTzktEventsUnknownEventHandlerConfig"
                  }
                ]
              }
            ]
          }
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "handlers"
      ]
    },
    "TezosTzktHeadIndexConfig": {
      "type": "object",
      "title": "TezosTzktHeadIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.head"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "callback": {
          "type": "string"
        }
      },
      "required": [
        "kind",
        "datasource",
        "callback"
      ]
    },
    "TezosTzktOperationsHandlerTransactionPatternConfig": {
      "type": "object",
      "title": "TezosTzktOperationsHandlerTransactionPatternConfig",
      "properties": {
        "type": {
          "enum": [
            "transaction"
          ],
          "default": "transaction"
        },
        "source": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "destination": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "entrypoint": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "optional": {
          "type": "boolean",
          "default": false
        },
        "alias": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      }
    },
    "TezosTzktOperationsHandlerOriginationPatternConfig": {
      "type": "object",
      "title": "TezosTzktOperationsHandlerOriginationPatternConfig",
      "properties": {
        "type": {
          "enum": [
            "origination"
          ],
          "default": "origination"
        },
        "source": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "originated_contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "optional": {
          "type": "boolean",
          "default": false
        },
        "strict": {
          "type": "boolean",
          "default": false
        },
        "alias": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      }
    },
    "TezosTzktOperationsHandlerSmartRollupExecutePatternConfig": {
      "type": "object",
      "title": "TezosTzktOperationsHandlerSmartRollupExecutePatternConfig",
      "properties": {
        "type": {
          "enum": [
            "sr_execute"
          ],
          "default": "sr_execute"
        },
        "source": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "destination": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "optional": {
          "type": "boolean",
          "default": false
        },
        "alias": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      }
    },
    "TezosTzktOperationsHandlerConfig": {
      "type": "object",
      "title": "TezosTzktOperationsHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "pattern": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "allOf": [
                  {
                    "$ref": "#/$defs/TezosTzktOperationsHandlerTransactionPatternConfig"
                  }
                ]
              },
              {
                "allOf": [
                  {
                    "$ref": "#/$defs/TezosTzktOperationsHandlerOriginationPatternConfig"
                  }
                ]
              },
              {
                "allOf": [
                  {
                    "$ref": "#/$defs/TezosTzktOperationsHandlerSmartRollupExecutePatternConfig"
                  }
                ]
              }
            ]
          }
        }
      },
      "required": [
        "callback",
        "pattern"
      ]
    },
    "TezosTzktOperationType": {
      "title": "TezosTzktOperationType",
      "enum": [
        "transaction",
        "origination",
        "migration",
        "sr_execute"
      ]
    },
    "TezosTzktOperationsIndexConfig": {
      "type": "object",
      "title": "TezosTzktOperationsIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.operations"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationsHandlerConfig"
              }
            ]
          }
        },
        "contracts": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "allOf": [
                  {
                    "$ref": "#/$defs/TezosContractConfig"
                  }
                ]
              }
            ]
          }
        },
        "types": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationType"
              }
            ]
          },
          "default": [
            "transaction"
          ]
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "handlers",
        "contracts"
      ]
    },
    "TezosTzktOperationsUnfilteredIndexConfig": {
      "type": "object",
      "title": "TezosTzktOperationsUnfilteredIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.operations_unfiltered"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "callback": {
          "type": "string"
        },
        "types": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktOperationType"
              }
            ]
          },
          "default": [
            "transaction"
          ]
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "callback"
      ]
    },
    "TezosTzktTokenTransfersHandlerConfig": {
      "type": "object",
      "title": "TezosTzktTokenTransfersHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "token_id": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "from_": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "to": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "callback"
      ]
    },
    "TezosTzktTokenTransfersIndexConfig": {
      "type": "object",
      "title": "TezosTzktTokenTransfersIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.token_transfers"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktTokenTransfersHandlerConfig"
              }
            ]
          }
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource"
      ]
    },
    "TezosTzktTokenBalancesHandlerConfig": {
      "type": "object",
      "title": "TezosTzktTokenBalancesHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "token_id": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "callback"
      ]
    },
    "TezosTzktTokenBalancesIndexConfig": {
      "type": "object",
      "title": "TezosTzktTokenBalancesIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "tezos.tzkt.token_balances"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/TezosTzktDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/TezosTzktTokenBalancesHandlerConfig"
              }
            ]
          }
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource"
      ]
    },
    "EvmSubsquidEventsHandlerConfig": {
      "type": "object",
      "title": "EvmSubsquidEventsHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "contract": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmContractConfig"
                }
              ]
            }
          ]
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "callback",
        "contract",
        "name"
      ]
    },
    "AbiDatasourceConfig": {
      "type": "object",
      "title": "AbiDatasourceConfig",
      "properties": {}
    },
    "EvmSubsquidEventsIndexConfig": {
      "type": "object",
      "title": "EvmSubsquidEventsIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "evm.subsquid.events"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmSubsquidDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidEventsHandlerConfig"
              }
            ]
          }
        },
        "abi": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/AbiDatasourceConfig"
                }
              ]
            },
            {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AbiDatasourceConfig"
                  }
                ]
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "node_only": {
          "type": "boolean",
          "default": false
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "handlers"
      ]
    },
    "EvmSubsquidTracesHandlerConfig": {
      "type": "object",
      "title": "EvmSubsquidTracesHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        }
      },
      "required": [
        "callback"
      ]
    },
    "EvmSubsquidTracesIndexConfig": {
      "type": "object",
      "title": "EvmSubsquidTracesIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "evm.subsquid.traces"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmSubsquidDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidTracesHandlerConfig"
              }
            ]
          }
        },
        "abi": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/AbiDatasourceConfig"
                }
              ]
            },
            {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AbiDatasourceConfig"
                  }
                ]
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "node_only": {
          "type": "boolean",
          "default": false
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "handlers"
      ]
    },
    "EvmSubsquidTransactionsHandlerConfig": {
      "type": "object",
      "title": "EvmSubsquidTransactionsHandlerConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "from_": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "to": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmContractConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "method": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "callback"
      ]
    },
    "EvmSubsquidTransactionsIndexConfig": {
      "type": "object",
      "title": "EvmSubsquidTransactionsIndexConfig",
      "properties": {
        "kind": {
          "enum": [
            "evm.subsquid.transactions"
          ]
        },
        "datasource": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/EvmSubsquidDatasourceConfig"
                }
              ]
            }
          ]
        },
        "handlers": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/$defs/EvmSubsquidTransactionsHandlerConfig"
              }
            ]
          }
        },
        "abi": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/AbiDatasourceConfig"
                }
              ]
            },
            {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AbiDatasourceConfig"
                  }
                ]
              }
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "node_only": {
          "type": "boolean",
          "default": false
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "kind",
        "datasource",
        "handlers"
      ]
    },
    "IndexTemplateConfig": {
      "type": "object",
      "title": "IndexTemplateConfig",
      "properties": {
        "template": {
          "type": "string"
        },
        "values": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "first_level": {
          "type": "integer",
          "default": 0
        },
        "last_level": {
          "type": "integer",
          "default": 0
        }
      },
      "required": [
        "template",
        "values"
      ]
    },
    "HookConfig": {
      "type": "object",
      "title": "HookConfig",
      "properties": {
        "callback": {
          "type": "string"
        },
        "args": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "atomic": {
          "type": "boolean",
          "default": false
        }
      },
      "required": [
        "callback"
      ]
    },
    "JobConfig": {
      "type": "object",
      "title": "JobConfig",
      "properties": {
        "hook": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HookConfig"
                }
              ]
            }
          ]
        },
        "args": {
          "type": "object",
          "additionalProperties": {}
        },
        "crontab": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "interval": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "daemon": {
          "type": "boolean",
          "default": false
        }
      },
      "required": [
        "hook",
        "args"
      ]
    },
    "HasuraConfig": {
      "type": "object",
      "title": "HasuraConfig",
      "properties": {
        "url": {
          "type": "string"
        },
        "admin_secret": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "create_source": {
          "type": "boolean",
          "default": false
        },
        "source": {
          "type": "string",
          "default": "default"
        },
        "select_limit": {
          "type": "integer",
          "default": 1000
        },
        "allow_aggregations": {
          "type": "boolean",
          "default": true
        },
        "allow_inconsistent_metadata": {
          "type": "boolean",
          "default": false
        },
        "camel_case": {
          "type": "boolean",
          "default": false
        },
        "rest": {
          "type": "boolean",
          "default": true
        },
        "http": {
          "anyOf": [
            {
              "allOf": [
                {
                  "$ref": "#/$defs/HttpConfig"
                }
              ]
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "url"
      ]
    },
    "SentryConfig": {
      "type": "object",
      "title": "SentryConfig",
      "properties": {
        "dsn": {
          "type": "string"
        },
        "environment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "server_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "release": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "user_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "debug": {
          "type": "boolean",
          "default": false
        }
      },
      "required": [
        "dsn"
      ]
    },
    "PrometheusConfig": {
      "type": "object",
      "title": "PrometheusConfig",
      "properties": {
        "host": {
          "type": "string"
        },
        "port": {
          "type": "integer",
          "default": 8000
        },
        "update_interval": {
          "type": "number",
          "default": 1.0
        }
      },
      "required": [
        "host"
      ]
    },
    "ApiConfig": {
      "type": "object",
      "title": "ApiConfig",
      "properties": {
        "host": {
          "type": "string",
          "default": "127.0.0.1"
        },
        "port": {
          "type": "integer",
          "default": 46339
        }
      }
    },
    "ReindexingAction": {
      "title": "ReindexingAction",
      "enum": [
        "exception",
        "wipe",
        "ignore"
      ]
    },
    "AdvancedConfig": {
      "type": "object",
      "title": "AdvancedConfig",
      "properties": {
        "reindex": {
          "type": "object",
          "additionalProperties": {
            "allOf": [
              {
                "$ref": "#/$defs/ReindexingAction"
              }
            ]
          }
        },
        "scheduler": {
          "anyOf": [
            {
              "type": "object",
              "additionalProperties": {}
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "postpone_jobs": {
          "type": "boolean",
          "default": false
        },
        "early_realtime": {
          "type": "boolean",
          "default": false
        },
        "skip_version_check": {
          "type": "boolean",
          "default": false
        },
        "rollback_depth": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "decimal_precision": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "unsafe_sqlite": {
          "type": "boolean",
          "default": false
        },
        "alt_operation_matcher": {
          "type": "boolean",
          "default": false
        }
      }
    }
  }
}